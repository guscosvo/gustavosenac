<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Apostas: Quem dá mais ata?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/animejs/lib/anime.iife.min.js"></script>
    <style>
        .roulette {
            width: 300px;
            height: 300px;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            margin: 0 auto;
        }
        .wheel {
            width: 100%;
            height: 100%;
            background: conic-gradient(
                #FF5252 0deg 60deg,
                #4CAF50 60deg 120deg,
                #2196F3 120deg 180deg,
                #FFC107 180deg 240deg,
                #9C27B0 240deg 300deg,
                #00BCD4 300deg 360deg
            );
            transition: transform 5s cubic-bezier(0.17, 0.67, 0.12, 0.99);
            transform: rotate(0deg);
        }
        .pointer {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid #fff;
            z-index: 10;
        }
        .multiplier-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 50%;
            font-size: 1.5rem;
            font-weight: bold;
            z-index: 5;
        }
        .admin-panel {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgb(0, 0, 0);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            z-index: 100;
        }
        .blink {
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-4xl font-bold text-center mb-8 text-yellow-400">FURTUNE ATA 777: quem da mais ata?</h1>
        
        <div class="bg-gray-800 rounded-lg p-6 mb-8 shadow-lg">
            <div class="flex justify-between items-center mb-6">
                <div class="text-2xl font-bold">
                    Saldo: <span id="balance" class="text-green-400">R$ 1000,00</span>
                </div>
                <button id="resetBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg hidden">
                    Recomeçar
                </button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="bg-gray-700 p-4 rounded-lg text-center cursor-pointer hover:bg-gray-600 transition bet-option" data-teacher="priscila">
                    <div class="text-xl font-bold mb-2">Priscila</div>
                    <div class="text-3xl font-bold text-pink-400">0</div>
                    <div class="mt-4">
                        <button class="bet-btn bg-pink-600 hover:bg-pink-700 text-white px-3 py-1 rounded" data-teacher="priscila" data-amount="10">R$ 10</button>
                        <button class="bet-btn bg-pink-600 hover:bg-pink-700 text-white px-3 py-1 rounded mt-2" data-teacher="priscila" data-amount="50">R$ 50</button>
                        <button class="bet-btn bg-pink-600 hover:bg-pink-700 text-white px-3 py-1 rounded mt-2" data-teacher="priscila" data-amount="100">R$ 100</button>
                        <button class="bet-btn bg-pink-600 hover:bg-pink-700 text-white px-3 py-1 rounded mt-2" data-teacher="priscila" data-amount="all">Tudo</button>
                    </div>
                </div>
                
                <div class="bg-gray-700 p-4 rounded-lg text-center cursor-pointer hover:bg-gray-600 transition bet-option" data-teacher="alex">
                    <div class="text-xl font-bold mb-2">Alex</div>
                    <div class="text-3xl font-bold text-blue-400">0</div>
                    <div class="mt-4">
                        <button class="bet-btn bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded" data-teacher="alex" data-amount="10">R$ 10</button>
                        <button class="bet-btn bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mt-2" data-teacher="alex" data-amount="50">R$ 50</button>
                        <button class="bet-btn bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mt-2" data-teacher="alex" data-amount="100">R$ 100</button>
                        <button class="bet-btn bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mt-2" data-teacher="alex" data-amount="all">Tudo</button>
                    </div>
                </div>
                
                <div class="bg-gray-700 p-4 rounded-lg text-center cursor-pointer hover:bg-gray-600 transition bet-option" data-teacher="iara">
                    <div class="text-xl font-bold mb-2">Iara</div>
                    <div class="text-3xl font-bold text-purple-400">0</div>
                    <div class="mt-4">
                        <button class="bet-btn bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded" data-teacher="iara" data-amount="10">R$ 10</button>
                        <button class="bet-btn bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded mt-2" data-teacher="iara" data-amount="50">R$ 50</button>
                        <button class="bet-btn bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded mt-2" data-teacher="iara" data-amount="100">R$ 100</button>
                        <button class="bet-btn bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded mt-2" data-teacher="iara" data-amount="all">Tudo</button>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <button id="startRoundBtn" class="bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-3 rounded-lg text-xl font-bold">
                    Começar Rodada
                </button>
            </div>
        </div>
        
        <div class="bg-gray-800 rounded-lg p-6 shadow-lg mb-8">
            <h2 class="text-2xl font-bold text-center mb-4 text-yellow-400">Roleta Multiplicadora</h2>
            <p class="text-center mb-6">Gire a roleta para multiplicar sua próxima aposta!</p>
            
            <div class="roulette mb-4">
                <div class="wheel" id="wheel"></div>
                <div class="pointer"></div>
                <div class="multiplier-display" id="currentMultiplier">1x</div>
            </div>
            
            <div class="text-center">
                <button id="spinBtn" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg text-xl font-bold">
                    Girar Roleta (R$ 50)
                </button>
            </div>
            
            <div class="mt-6 grid grid-cols-2 md:grid-cols-5 gap-2">
                <div class="bg-gray-700 p-2 rounded text-center">
                    <div class="text-xs">2x</div>
                    <div class="font-bold text-green-400">60%</div>
                </div>
                <div class="bg-gray-700 p-2 rounded text-center">
                    <div class="text-xs">4x</div>
                    <div class="font-bold text-green-400">20%</div>
                </div>
                <div class="bg-gray-700 p-2 rounded text-center">
                    <div class="text-xs">16x</div>
                    <div class="font-bold text-green-400">10%</div>
                </div>
                <div class="bg-gray-700 p-2 rounded text-center">
                    <div class="text-xs">32x</div>
                    <div class="font-bold text-green-400">5%</div>
                </div>
                <div class="bg-gray-700 p-2 rounded text-center">
                    <div class="text-xs">999x</div>
                    <div class="font-bold text-green-400">4.999%</div>
                </div>
                <div class="bg-gray-700 p-2 rounded text-center col-span-2 md:col-span-5">
                    <div class="text-xs">Infinit Money</div>
                    <div class="font-bold text-green-400">0.001%</div>
                </div>
            </div>
        </div>
        
        <div class="text-center text-gray-400 text-sm mt-8">
            <p>Jogo criado para fins de diversão. Não utilize dinheiro real.</p>
        </div>
    </div>
    
    <div id="resultModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center hidden z-50">
        <div class="bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4">
            <h2 id="resultTitle" class="text-2xl font-bold mb-4 text-center"></h2>
            <p id="resultMessage" class="text-center mb-6"></p>
            <div class="text-center">
                <button id="closeResultBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg">
                    Fechar
                </button>
            </div>
        </div>
    </div>
    
    <div id="adminPanel" class="admin-panel">
        <h2 class="text-xl font-bold mb-4">Painel Admin</h2>
        <div class="mb-4">
            <label class="block mb-2">Novo Saldo:</label>
            <input type="number" id="newBalanceInput" class="w-full p-2 rounded bg-gray-700 text-white">
        </div>
        <div class="flex justify-between">
            <button id="saveBalanceBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">
                Salvar
            </button>
            <button id="closeAdminBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded">
                Fechar
            </button>
        </div>
    </div>

    <script>
        // Game state
        let balance = 1000;
        let currentBets = {
            priscila: 0,
            alex: 0,
            iara: 0
        };
        let currentMultiplier = 1;
        let nextRoundMultiplier = 1;
        let hasInfinitMoney = false;
        let adminMode = false;
        let pressedKeys = [];
        const secretCode = "admin";
        
        // DOM elements
        const balanceEl = document.getElementById('balance');
        const startRoundBtn = document.getElementById('startRoundBtn');
        const resetBtn = document.getElementById('resetBtn');
        const spinBtn = document.getElementById('spinBtn');
        const wheelEl = document.getElementById('wheel');
        const currentMultiplierEl = document.getElementById('currentMultiplier');
        const resultModal = document.getElementById('resultModal');
        const resultTitle = document.getElementById('resultTitle');
        const resultMessage = document.getElementById('resultMessage');
        const closeResultBtn = document.getElementById('closeResultBtn');
        const adminPanel = document.getElementById('adminPanel');
        const newBalanceInput = document.getElementById('newBalanceInput');
        const saveBalanceBtn = document.getElementById('saveBalanceBtn');
        const closeAdminBtn = document.getElementById('closeAdminBtn');
        
        // Initialize
        updateBalanceDisplay();
        
        // Event listeners
        document.querySelectorAll('.bet-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const teacher = this.dataset.teacher;
                const amount = this.dataset.amount;
                
                if (amount === 'all') {
                    placeBet(teacher, balance);
                } else {
                    placeBet(teacher, parseInt(amount));
                }
            });
        });
        
        startRoundBtn.addEventListener('click', startRound);
        resetBtn.addEventListener('click', resetGame);
        spinBtn.addEventListener('click', spinWheel);
        closeResultBtn.addEventListener('click', () => resultModal.classList.add('hidden'));
        closeAdminBtn.addEventListener('click', () => adminPanel.style.display = 'none');
        saveBalanceBtn.addEventListener('click', () => {
            const newBalance = parseInt(newBalanceInput.value);
            if (!isNaN(newBalance)) {
                balance = newBalance;
                updateBalanceDisplay();
                adminPanel.style.display = 'none';
            }
        });
        
        // Keyboard listener for admin mode
        document.addEventListener('keydown', (e) => {
            pressedKeys.push(e.key.toLowerCase());
            if (pressedKeys.length > secretCode.length) {
                pressedKeys.shift();
            }
            
            if (pressedKeys.join('') === secretCode) {
                adminPanel.style.display = 'block';
                pressedKeys = [];
            }
        });
        
        // Functions
        function placeBet(teacher, amount) {
            if (hasInfinitMoney) {
                currentBets[teacher] += amount;
                updateBetDisplay(teacher);
                return;
            }
            
            if (amount > balance) {
                showResult('Saldo insuficiente', `Você não tem saldo suficiente para apostar R$ ${amount}.`);
                return;
            }
            
            balance -= amount;
            currentBets[teacher] += amount;
            
            updateBalanceDisplay();
            updateBetDisplay(teacher);
        }
        
        function startRound() {
            const totalBet = Object.values(currentBets).reduce((a, b) => a + b, 0);
            
            if (totalBet === 0) {
                showResult('Nenhuma aposta', 'Você precisa fazer pelo menos uma aposta para começar a rodada.');
                return;
            }
            
            // Randomly determine who gives more "ata"
            const teachers = ['priscila', 'alex', 'iara'];
            const winner = teachers[Math.floor(Math.random() * teachers.length)];
            
            // Calculate winnings
            let winnings = 0;
            if (currentBets[winner] > 0) {
                winnings = currentBets[winner] * 2 * nextRoundMultiplier;
                balance += winnings;
                
                if (nextRoundMultiplier === 999) {
                    hasInfinitMoney = true;
                    showResult('INFINIT MONEY!', `Você ganhou o jackpot e agora tem dinheiro infinito! Seu saldo atual: R$ ${balance.toFixed(2)}`);
                } else {
                    showResult(`${winner.charAt(0).toUpperCase() + winner.slice(1)} venceu!`, 
                             `Você ganhou R$ ${winnings.toFixed(2)}! Seu saldo atual: R$ ${balance.toFixed(2)}`);
                }
            } else {
                showResult(`${winner.charAt(0).toUpperCase() + winner.slice(1)} venceu!`, 
                         `Você não apostou no vencedor. Seu saldo atual: R$ ${balance.toFixed(2)}`);
            }
            
            // Reset for next round
            currentBets = { priscila: 0, alex: 0, iara: 0 };
            nextRoundMultiplier = 1;
            currentMultiplier = 1;
            currentMultiplierEl.textContent = '1x';
            
            updateBalanceDisplay();
            document.querySelectorAll('.bet-option').forEach(el => {
                const teacher = el.dataset.teacher;
                updateBetDisplay(teacher);
            });
            
            if (balance <= 0 && !hasInfinitMoney) {
                resetBtn.classList.remove('hidden');
                startRoundBtn.disabled = true;
            }
        }
        
        function spinWheel() {
            if (hasInfinitMoney) {
                spinBtn.disabled = true;
                spinWheelAnimation();
                return;
            }
            
            if (balance < 50) {
                showResult('Saldo insuficiente', 'Você precisa de R$ 50 para girar a roleta.');
                return;
            }
            
            balance -= 50;
            updateBalanceDisplay();
            spinBtn.disabled = true;
            spinWheelAnimation();
        }
        
        function spinWheelAnimation() {
            // Determine multiplier
            const random = Math.random();
            let multiplier;
            let segment = 0;
            
            if (random < 0.00001) { // 0.001% chance
                multiplier = 'Infinit Money';
                segment = 5;
            } else if (random < 0.05) { // 4.999% chance
                multiplier = 999;
                segment = 4;
            } else if (random < 0.10) { // 5% chance
                multiplier = 32;
                segment = 3;
            } else if (random < 0.20) { // 10% chance
                multiplier = 16;
                segment = 2;
            } else if (random < 0.40) { // 20% chance
                multiplier = 4;
                segment = 1;
            } else { // 60% chance
                multiplier = 2;
                segment = 0;
            }
            
            // Calculate rotation (5 full rotations + segment)
            const segmentDegrees = 60;
            const rotation = 1800 + (segment * segmentDegrees) + (Math.random() * segmentDegrees);
            
            // Animate wheel
            wheelEl.style.transform = `rotate(${-rotation}deg)`;
            
            setTimeout(() => {
                spinBtn.disabled = false;
                nextRoundMultiplier = multiplier === 'Infinit Money' ? 999 : multiplier;
                
                if (multiplier === 'Infinit Money') {
                    currentMultiplierEl.innerHTML = '<span class="blink">INFINIT MONEY</span>';
                } else {
                    currentMultiplierEl.textContent = `${multiplier}x`;
                }
                
                currentMultiplier = multiplier;
            }, 5000);
        }
        
        function resetGame() {
            balance = 1000;
            currentBets = { priscila: 0, alex: 0, iara: 0 };
            nextRoundMultiplier = 1;
            currentMultiplier = 1;
            hasInfinitMoney = false;
            
            updateBalanceDisplay();
            document.querySelectorAll('.bet-option').forEach(el => {
                const teacher = el.dataset.teacher;
                updateBetDisplay(teacher);
            });
            
            resetBtn.classList.add('hidden');
            startRoundBtn.disabled = false;
            currentMultiplierEl.textContent = '1x';
            wheelEl.style.transform = 'rotate(0deg)';
        }
        
        function updateBalanceDisplay() {
            balanceEl.textContent = `R$ ${balance.toFixed(2)}`;
        }
        
        function updateBetDisplay(teacher) {
            const el = document.querySelector(`.bet-option[data-teacher="${teacher}"] .text-3xl`);
            el.textContent = currentBets[teacher];
        }
        
        function showResult(title, message) {
            resultTitle.textContent = title;
            resultMessage.textContent = message;
            resultModal.classList.remove('hidden');
        }
        
        // Initialize feather icons
        feather.replace();
    </script>
</body>
</html>
